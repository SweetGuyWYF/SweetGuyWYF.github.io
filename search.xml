<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vulnhub靶机随笔-Hacksudo_Aliens</title>
      <link href="/2024/05/11/Vulnhub%E9%9D%B6%E6%9C%BAHacksudo_Aliens%E8%AF%A6%E8%A7%A3/"/>
      <url>/2024/05/11/Vulnhub%E9%9D%B6%E6%9C%BAHacksudo_Aliens%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>Vulnhub靶机Hacksudo_Aliens详解:</p><p>攻击机Kali  IP:192.168.3.44</p><p>靶机    IP:未知  系统:未知</p><p><strong>A.信息收集</strong></p><p><strong>扫描靶机存活性 确定IP地址</strong></p><p>1.命令:arp-scan -l</p><p><img src="/Vulnhub/image/f43b7edc9a914dd5811a8512273e8f02.png" alt="img"></p><p><strong>扫描靶机开放端口及其服务版本信息</strong></p><p>2.命令 nmap -A -p- -sV 靶机IP地址</p><p>靶机开放三个端口,22ssh端口,80web端口,9000是数据库图形化界面</p><p><img src="/Vulnhub/image/9084c7a3026d4a0aa10199697e3daf9d.png" alt="img"><br>3.对80端口进行子目录挖掘,这里使用暴力工具gobuster</p><p>命令 gobuster dir -u 目标URL -w 字典 -x 文件扩展名</p><p>通过挖掘,发现目录backup存在一个数据库备份文件mysql.bak</p><p><img src="/Vulnhub/image/694b5efe1d5d48a58dfc7a01516177d0.png" alt="img"></p><p><img src="/Vulnhub/image/9358a6abd3d744b786b7809b12b02129.png" alt="img"></p><p>4.将mysql.bak下载下来,查看一下里面的内容,得到一个用户名及其密码:vishal@hacksudo</p><p><img src="/Vulnhub/image/7d0f65debe6844188f98de4a25097a13.png" alt="img"></p><p>5.通过phpmyadmin登录mysql.进入数据库,我第一步去看了一眼user表,发现root用户和vishal用户加密过的密码一致,于是我退出当前登录,登上了root用户,这一步是考虑到可能存在权限的问题,为后面做铺垫,用不上也无所谓</p><p><img src="/Vulnhub/image/6ebb678c3920470ba893ee5dd99b3ccd.png" alt="img"></p><p>6.既然我们可以登录mysql,那么首当其冲要想到sql一句话木马注入,利用 into outfile</p><p>如下图,我大胆往&#x2F;var&#x2F;www&#x2F;html目录下写入了一个名为hacker.php的木马文件</p><p><img src="/Vulnhub/image/df193a3b1717437a90855960d53125fc.png" alt="img"></p><p>7.由于我用的POST传参,所以开启我们的antsward(蚁剑,菜刀也行),并添加数据,能够进入虚拟终端</p><p><img src="/Vulnhub/image/bbc905b9ce2e44e8a3606ba048cf3221.png" alt="img"></p><p><img src="/Vulnhub/image/6eb03cc16379464690250f43664dec2e.png" alt="img"></p><p><strong>B.破解 &#x2F;etc&#x2F;shadow</strong></p><p>1.使用常规的提权姿势,发现存在一个suid权限的date文件,刚好date的-f选项可以读取文件,SO…</p><p>补充一个提权网址: <a href="https://gtfobins.github.io/">GTFOBins</a></p><p><img src="/Vulnhub/image/db02ab68e0954359a4f42fefa45b6d8c.png" alt="img"></p><p>2.我们从GRFOBins上查询date提权的方法,果真有,如下图</p><p><img src="/Vulnhub/image/8bf526ecd28843359d4e53f239b3ea90.png" alt="img"></p><p>3.因此我们只需要输入如下命令,即可读取到&#x2F;etc&#x2F;shadow文件</p><p>命令: date -f &#x2F;etc&#x2F;shadow</p><p>得到两个用户的hash值密码,root先放一放,不太可能一下就得到root密码哈哈</p><p><img src="/Vulnhub/image/c92e3b460cde41f192fd2007d071f657.png" alt="img"></p><p>4.将用户hacksudo这一串全部复制到kali里,利用john爆破</p><p>得到用户及其密码hacksudo@aliens</p><p><img src="/Vulnhub/image/a7c47ef41c5d434c8b26c27c7d4ca13b.png" alt="img"></p><p><strong>C.提权</strong> </p><p><a href="mailto:1.首先我们利用用户hacksudo@aliens">1.首先我们利用用户hacksudo@aliens</a>登录ssh</p><p><img src="/Vulnhub/image/75a6510719ee4424af9aec615b505825.png" alt="img"></p><p>2.翻阅当前目录,获取第一个flag</p><p><img src="/Vulnhub/image/1aa654f0bdc04b2bb9ad59798173fc39.png" alt="img"></p><p>3.继上篇文章之后,习惯性直接跑LinEnum.sh脚本.显然 太好用了!!</p><p>在hacksudo的家目录Downloads文件夹中就存放着一个suid文件cpulimit</p><p><img src="/Vulnhub/image/d71272c55ee044c8aa8dd696db3c0b7e.png" alt="img"></p><p><img src="/Vulnhub/image/3b402bfa7d7f4695bb5a1230ad351e00.png" alt="img"></p><p>4.继续上GTFOBins搜索cpulimit,结果是他居然也有提权方法!</p><p><img src="/Vulnhub/image/816974fc6b6d4e65ab13c5ef7b0fd7f8.png" alt="img"></p><p>下图是cpulimit的使用方法</p><p><img src="/Vulnhub/image/ad831217758e4a0c9491e65141ddf9c1.png" alt="img"></p><p>再回到cpulimit提权的命令,就显然易见了,通过具有suid权限的cpulimit将执行&#x2F;bin&#x2F;sh的cpu使用率调至100%,也就是强制让电脑一心一意执行&#x2F;bin&#x2F;sh</p><p>(很恐怖啊这个工具,体现了权限设置的重要性)</p><p><img src="/Vulnhub/image/35393e6a096243f099cd2b68f4900645.png" alt="img"></p><p>5.所以我们只需要将命令复制到靶机中,即可完成提权</p><p><img src="/Vulnhub/image/d265640d95ca4dd18a313e6502c39c90.png" alt="img"></p><p><em><strong>老骥伏枥，志在千里；</strong></em></p><p><em><strong>烈士暮年，壮心不已</strong></em></p><p><strong>好了,到这我们的文章真的结束了,有不懂的可以私信我</strong></p><p><strong>你们的点赞和关注是我更新的动力,让我们一起努力~~</strong></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/05/10/hello-world/"/>
      <url>/2024/05/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
